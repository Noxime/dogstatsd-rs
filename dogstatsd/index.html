<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `dogstatsd` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, dogstatsd">

    <title>dogstatsd - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'></p><script>window.sidebarCurrent = {name: 'dogstatsd', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>dogstatsd</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-0' class='srclink' href='../src/dogstatsd/src/lib.rs.html#1-346' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>A Rust client for interacting with Dogstatsd</p>

<p>Dogstatsd is a custom StatsD implementation by DataDog for sending metrics and events to their
system. Through this client you can report any type of metric you want, tag it, and enjoy your
custom metrics.</p>

<h2 id='usage' class='section-header'><a href='#usage'>Usage</a></h2>
<p>Build an options struct and create a client:</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>dogstatsd</span>::{<span class='ident'>Client</span>, <span class='ident'>Options</span>};

<span class='comment'>// Binds to a udp socket on 127.0.0.1:8126 for transmitting, and sends to</span>
<span class='comment'>// 127.0.0.1:8125, the default dogstatsd address.</span>
<span class='kw'>let</span> <span class='ident'>default_options</span> <span class='op'>=</span> <span class='ident'>Options</span>::<span class='ident'>default</span>();
<span class='kw'>let</span> <span class='ident'>default_client</span> <span class='op'>=</span> <span class='ident'>Client</span>::<span class='ident'>new</span>(<span class='ident'>default_options</span>);

<span class='comment'>// Binds to 127.0.0.1:9000 for transmitting and sends to 10.1.2.3:8125, with a</span>
<span class='comment'>// namespace of &quot;analytics&quot;.</span>
<span class='kw'>let</span> <span class='ident'>custom_options</span> <span class='op'>=</span> <span class='ident'>Options</span>::<span class='ident'>new</span>(<span class='string'>&quot;127.0.0.1:9000&quot;</span>, <span class='string'>&quot;10.1.2.3:8125&quot;</span>, <span class='string'>&quot;analytics&quot;</span>);
<span class='kw'>let</span> <span class='ident'>custom_client</span> <span class='op'>=</span> <span class='ident'>Client</span>::<span class='ident'>new</span>(<span class='ident'>custom_options</span>);</pre>

<p>Start sending metrics:</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>dogstatsd</span>::{<span class='ident'>Client</span>, <span class='ident'>Options</span>};

<span class='kw'>let</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>Client</span>::<span class='ident'>new</span>(<span class='ident'>Options</span>::<span class='ident'>default</span>());

<span class='comment'>// Increment a counter</span>
<span class='ident'>client</span>.<span class='ident'>incr</span>(<span class='string'>&quot;my_counter&quot;</span>, <span class='macro'>vec</span><span class='macro'>!</span>[]).<span class='ident'>unwrap</span>();

<span class='comment'>// Decrement a counter</span>
<span class='ident'>client</span>.<span class='ident'>decr</span>(<span class='string'>&quot;my_counter&quot;</span>, <span class='macro'>vec</span><span class='macro'>!</span>[]).<span class='ident'>unwrap</span>();

<span class='comment'>// Time a block of code (reports in ms)</span>
<span class='ident'>client</span>.<span class='ident'>time</span>(<span class='string'>&quot;my_time&quot;</span>, <span class='macro'>vec</span><span class='macro'>!</span>[], <span class='op'>||</span> {
    <span class='comment'>// Some time consuming code</span>
}).<span class='ident'>unwrap</span>();

<span class='comment'>// Report your own timing in ms</span>
<span class='ident'>client</span>.<span class='ident'>timing</span>(<span class='string'>&quot;my_timing&quot;</span>, <span class='number'>500</span>, <span class='macro'>vec</span><span class='macro'>!</span>[]).<span class='ident'>unwrap</span>();

<span class='comment'>// Report an arbitrary value (a gauge)</span>
<span class='ident'>client</span>.<span class='ident'>gauge</span>(<span class='string'>&quot;my_gauge&quot;</span>, <span class='string'>&quot;12345&quot;</span>, <span class='macro'>vec</span><span class='macro'>!</span>[]).<span class='ident'>unwrap</span>();

<span class='comment'>// Report a sample of a histogram</span>
<span class='ident'>client</span>.<span class='ident'>histogram</span>(<span class='string'>&quot;my_histogram&quot;</span>, <span class='string'>&quot;67890&quot;</span>, <span class='macro'>vec</span><span class='macro'>!</span>[]).<span class='ident'>unwrap</span>();

<span class='comment'>// Report a member of a set</span>
<span class='ident'>client</span>.<span class='ident'>set</span>(<span class='string'>&quot;my_set&quot;</span>, <span class='string'>&quot;13579&quot;</span>, <span class='macro'>vec</span><span class='macro'>!</span>[]).<span class='ident'>unwrap</span>();

<span class='comment'>// Send a custom event</span>
<span class='ident'>client</span>.<span class='ident'>event</span>(<span class='string'>&quot;My Custom Event Title&quot;</span>, <span class='string'>&quot;My Custom Event Body&quot;</span>, <span class='macro'>vec</span><span class='macro'>!</span>[]).<span class='ident'>unwrap</span>();

<span class='comment'>// Add tags to any metric by passing a Vec&lt;String&gt; of tags to apply</span>
<span class='ident'>client</span>.<span class='ident'>gauge</span>(<span class='string'>&quot;my_gauge&quot;</span>, <span class='string'>&quot;12345&quot;</span>, <span class='macro'>vec</span><span class='macro'>!</span>[<span class='string'>&quot;tag:1&quot;</span>.<span class='ident'>into</span>(), <span class='string'>&quot;tag:2&quot;</span>.<span class='ident'>into</span>()]).<span class='ident'>unwrap</span>();</pre>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Client.html'
                                  title='dogstatsd::Client'>Client</a></td>
                           <td class='docblock short'>
                                <p>The client struct that handles sending metrics to the Dogstatsd server.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Options.html'
                                  title='dogstatsd::Options'>Options</a></td>
                           <td class='docblock short'>
                                <p>The struct that represents the options available for the Dogstatsd client.</p>
                           </td>
                       </tr></table><h2 id='types' class='section-header'><a href="#types">Type Definitions</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='type' href='type.DogstatsdResult.html'
                                  title='dogstatsd::DogstatsdResult'>DogstatsdResult</a></td>
                           <td class='docblock short'>
                                <p>A type alias for returning a unit type or an error</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "dogstatsd";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>